!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],e);else{var r=e("object"==typeof exports?require("d3"):t.d3);for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(e,r){e.exports=t},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default={createCircle:n(r(2)).default,createLine:n(r(3)).default,createDashBoard:n(r(4)).default,createColumnar:n(r(5)).default}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;"string"==typeof t&&(t=document.querySelector(t));var a=document.createElement("div");t.appendChild(a);var i=n.select(a).style("position","relative").append("svg").attr("width",e).attr("height",r).append("g").attr("transform","translate("+e/2+","+r/2+")"),o=["#98abc5","#8a89a6","#7b6888","#6b486b","#a05d56","#d0743c","#ff8c00"],s=Math.sin,l=Math.cos,u=[];return function(t){u=[];var r=3*e/8,a=t.reduce(function(t,e){return t+e.data},0),c=function(e){return t.filter(function(t,r){return e>=r}).reduce(function(t,e){return t+e.data},0)/a},d=function(e,a){var i=(0===e?0:c(e-1))*Math.PI*2,o=c(e)*Math.PI*2;return t.length>u.length&&u.push((Math.PI-o-i)/2),n.svg.arc().padAngle(Math.PI/180).innerRadius(0).outerRadius(a||r).cornerRadius(5).startAngle(i).endAngle(o)()},f=n.ease("sin"),p=function(t,e){var n=e||r+25,a=(0===t?0:c(t-1))*Math.PI*2,i=c(t)*Math.PI*2,o=(i+a)/2;return[n*Math.sin(o),-n*Math.cos(o),o]},h=i.selectAll("g").data(t,function(t,e){return e}),g=h.enter().append("g"),v=g.append("text").data(t,function(t,e){return e}).attr("x",function(t,e){return p(e)[0]}).attr("y",function(t,e){return p(e)[1]}).attr("transform",function(t,e){return"rotate("+180*p(e)[2]/Math.PI+","+p(e)[0]+","+p(e)[1]+")"});v.append("tspan").html(function(t,e){return t.title}).attr("dx",0),v.append("tspan").html(function(t,e){return t.data}).attr("dx",function(t,e){return-12*t.title.length}).attr("dy",15),g.append("path").style("fill",function(t,e){return o[e%7]}),g.each(function(t,e){var r=n.select(this),a=u[e];r.on("mouseenter",function(){r.transition().duration(200).ease(f).attr("transform","translate("+10*l(a)+","+10*-s(a)+")")}),r.on("mouseleave",function(){r.transition().duration(200).ease(f).attr("transform","translate(0,0)")})}),g.attr("transform","scale(.01,.01)").transition().duration(500).delay(function(t,e){return 100*e}).ease(f).attr("transform","scale(1,1)");var m=h.transition().duration(1e3).attr("transform","scale(1,1)");m.select("path").attr("d",function(t,e){return d(e)}),m.select("text").attr("x",function(t,e){return p(e)[0]}).attr("y",function(t,e){return p(e)[1]}).attr("transform",function(t,e){return"rotate("+180*p(e)[2]/Math.PI+","+p(e)[0]+","+p(e)[1]+")"}),h.each(function(t,e){var r=n.select(this),a=u[e];r.on("mouseenter",function(){r.transition().duration(200).ease(f).attr("transform","translate("+10*l(a)+","+10*-s(a)+")")}),r.on("mouseleave",function(){r.transition().duration(200).ease(f).attr("transform","translate(0,0)")})}),h.exit().transition().attr("transform","scale(0,0)").each("end",function(){n.select(this).remove()}),v.each(function(t,e){var r=p(e);n.select(this).transition().duration(1e3).attr("x",r[0]).attr("y",r[1]).attr("transform","rotate("+180*r[2]/Math.PI+","+r[0]+","+r[1]+")")}),v.exit().remove()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;"string"==typeof t&&(t=document.querySelector(t));var i=[],o=n.select(t).append("svg").attr("width",e).attr("height",r),s=[];o.append("defs").append("clipPath").attr("id","clip").append("rect").attr("x",30).attr("y",30).attr("width",e-30).attr("height",r-30);var l=function(t){return n.axisLeft(n.scaleLinear().domain([0,t]).range([r-60,30]))},u=function(t){return o.append("g").attr("class","axis-y").attr("transform","translate(30,30)").call(t)};u(l(Math.max.apply(Math,s)));var c=n.scaleLinear().domain([0,5]).range([30,e]),d=o.append("g").attr("clip-path","url(#clip)").append("path").attr("class","line-path").style("fill","transparent").style("stroke","#000").attr("transform","translate(0,30)");return function(t){i.push(t);var e=Math.max.apply(Math,i.map(function(t){return t.data})),s=n.scaleLinear().domain([0,e]).range([r-60,30]);o.select(".axis-y").remove(),u(l(e));var f=n.line().x(function(t,e){return c(e)}).y(function(t){return s(t.data)}),p=7>i.length?0:c(0)-c(1);d.attr("d",f(i)).attr("transform","translate(0,30)").transition().ease(n.easeLinear).duration(a-50).attr("transform","translate("+p+",30)").on("end",function(){0!==p&&(i.shift(),n.select(void 0).datum(i).attr("d",f).attr("transform","translate(0,30)"))})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"%",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"仪表盘示例",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3;"string"==typeof t&&(t=document.querySelector(t));for(var l=n.select(t).append("svg").attr("width",e).attr("height",r).append("g").attr("transform","translate("+e/2+","+r/2+")"),u=Math.PI,c=Math.sin,d=Math.cos,f=3*-u/4,p=u/2,h=(e>r?r:e)/2,g=function(t,e){l.append("path").attr("d",n.svg.arc().innerRadius(h-10).outerRadius(h).startAngle(f+t*p).endAngle(f+(t+1)*p)).attr("fill",e)},v=function(t){return t>6?"red":t>3?"green":"grey"},m=0;11>m;m++){for(var y=f+3*p/10*m-p,x=0;5>x&&10!==m;x++){var M=y+3*p/10/5*x;l.append("rect").attr("width",5).attr("height",1.5).attr("fill",v(m)).attr("x",(h-13)*d(M)-2.5).attr("y",(h-13)*c(M)-1).style("transform","rotate("+M/u*180+"deg)").style("transform-origin","50% 50%")}l.append("rect").attr("width",10).attr("height",3).attr("fill",v(m)).attr("x",(h-14)*d(y)-5).attr("y",(h-14)*c(y)-3).style("transform","rotate("+y/u*180+"deg)").style("transform-origin","50% 50%")}g(0,"grey"),g(1,"green"),g(2,"red");var b=l.append("text").text("0"+i).attr("y",h/2).attr("dx",-(i.length+1)/2*50).style("font-size",50);l.append("text").text(o).attr("y",-h/2).attr("dx",-o.length/2*30).style("font-size",30).style("color","green");var P=l.append("g");return P.append("polygon").attr("points","0,-10 15,0 0,150 -15,0").attr("fill","green").attr("stroke","#000"),P.append("circle").attr("x",0).attr("y",0).attr("r",5).attr("fill","#fff").attr("stroke","#000"),P.style("transform","rotate(0deg)").style("transition","all "+s/1e3+"s ease-in-out 0s"),function(t){0>t&&(t=0),t>100&&(t=100),P.style("transform","rotate("+(45+270*t/a)+"deg)"),b.transition().duration(s).tween("transform",function(e,r){var e=n.select(this),a=parseInt(e.text().replace(/\D/g,""));return function(r){e.text(parseInt(a+(t-a)*r)+i)}})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;"string"==typeof t&&(t=document.querySelector(t));var i=n.select(t).append("svg").attr("width",e).attr("height",r),o=[],s=n.scale.linear().range([r-100,0]).domain([0,Math.max.apply(Math,o)]),l=n.svg.axis().scale(s).ticks(10).orient("left"),u=(i.append("g").attr("transform","translate(50,50)").attr("stroke","#000").attr("fill","transparent").attr("class","axis-y").call(l),n.scale.ordinal().rangePoints([0,e-100]).domain(["0","1"])),c=n.svg.axis().scale(u).orient("bottom");i.append("g").attr("transform","translate(50,"+(r-50)+")").attr("class","axis-x").attr("fill","transparent").attr("stroke","#000").call(c);return function(t){s.domain([0,Math.max.apply(Math,t.map(function(t){return t.data}))]),i.transition().duration(a).select("g.axis-y").call(l).selectAll("text").attr("fill","#000").attr("stroke","transparent"),u.domain(["0"].concat(t.map(function(t){return t.title})).concat([""])),i.transition().duration(a).select("g.axis-x").call(c).selectAll("text").attr("fill","#000").attr("stroke","transparent");var e=i.selectAll("text.th").data(t,function(t){return t.title}),n=i.selectAll("rect.dh").data(t,function(t){return t.title});e.enter().append("text").attr("class","th").style("font-size",16).attr("x",function(t){return u(t.title)+25}).attr("y",function(t){return r-50}).text(function(t){return t.data}).transition().duration(a/2).attr("y",function(t){return s(t.data)+50-8}),e.transition().duration(a/2).attr("y",function(t){return s(t.data)+50-8}).attr("x",function(t){return u(t.title)+25}),e.exit().remove(),n.enter().append("rect").attr("class","dh").attr("width",50).attr("x",function(t){return u(t.title)+25}).attr("fill","#3398db").attr("height",0).attr("y",function(t){return r-50}).transition().duration(a).attr("y",function(t){return s(t.data)+50}).attr("height",function(t){return r-100-s(t.data)}),n.transition().attr("height",function(t){return r-100-s(t.data)}).attr("y",function(t){return s(t.data)+50}).attr("x",function(t){return u(t.title)+25}),n.exit().remove()}}}])});